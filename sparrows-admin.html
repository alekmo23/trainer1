<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–†–µ–¥–∞–∫—Ç–æ—Ä –ø—Ç–∏—Ü - –ü—Ç–∏—á–∏–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .admin-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }
    
    .admin-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .admin-title {
      font-size: 1.8rem;
      color: var(--primary-dark);
    }
    
    .admin-actions {
      display: flex;
      gap: 1rem;
    }
    
    .admin-btn {
      padding: 0.75rem 1.5rem;
      border-radius: var(--radius-sm);
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      border: none;
      font-size: 1rem;
    }
    
    .primary-btn {
      background: var(--primary);
      color: white;
    }
    
    .primary-btn:hover {
      background: var(--primary-dark);
    }
    
    .secondary-btn {
      background: var(--card-bg);
      border: 1px solid #E5E7EB;
    }
    
    .secondary-btn:hover {
      background: #F3F4F6;
    }
    
    .danger-btn {
      background: #EF4444;
      color: white;
    }
    
    .danger-btn:hover {
      background: #DC2626;
    }
    
    .editor-grid {
      display: grid;
      grid-template-columns: 300px 1fr;
      gap: 2rem;
    }
    
    .birds-list {
      background: var(--card-bg);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      overflow: hidden;
      max-height: 600px;
      overflow-y: auto;
    }
    
    .bird-item {
      padding: 1rem;
      border-bottom: 1px solid #E5E7EB;
      cursor: pointer;
      transition: background 0.2s ease;
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .bird-item:hover {
      background: #F9FAFB;
    }
    
    .bird-item.active {
      background: #EFF6FF;
      border-left: 3px solid var(--primary);
    }
    
    .bird-item-img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    .bird-item-name {
      font-weight: 500;
      margin-bottom: 0.25rem;
    }
    
    .bird-item-sci {
      font-size: 0.8rem;
      color: var(--text-light);
      font-style: italic;
    }
    
    .editor-form {
      background: var(--card-bg);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      padding: 2rem;
    }
    
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }
    
    .form-control {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #E5E7EB;
      border-radius: var(--radius-sm);
      font-size: 1rem;
      transition: border-color 0.2s ease;
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    .form-textarea {
      min-height: 100px;
      resize: vertical;
    }
    
    .image-preview {
      width: 100%;
      height: 250px;
      background: #F3F4F6;
      border-radius: var(--radius-sm);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      margin-bottom: 1rem;
      position: relative;
    }
    
    .image-preview img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }
    
    .upload-btn {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      background: #E5E7EB;
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: background 0.2s ease;
      text-align: center;
      margin-top: 0.5rem;
    }
    
    .upload-btn:hover {
      background: #D1D5DB;
    }
    
    .form-actions {
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      margin-top: 2rem;
    }
    
    .empty-state {
      text-align: center;
      padding: 3rem;
      color: var(--text-light);
    }
    
    .search-box {
      position: relative;
      padding: 1rem;
      border-bottom: 1px solid #E5E7EB;
    }
    
    .search-input {
      width: 100%;
      padding: 0.5rem 0.5rem 0.5rem 2rem;
      border: 1px solid #E5E7EB;
      border-radius: var(--radius-sm);
    }
    
    .search-icon {
      position: absolute;
      left: 1.5rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-light);
    }
    
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 1rem 1.5rem;
      background: var(--secondary);
      color: white;
      border-radius: var(--radius-sm);
      box-shadow: var(--shadow-md);
      z-index: 1000;
      transform: translateX(200%);
      transition: transform 0.3s ease;
    }
    
    .notification.show {
      transform: translateX(0);
    }
    
    .notification.error {
      background: #EF4444;
    }
    
    @media (max-width: 992px) {
      .editor-grid {
        grid-template-columns: 1fr;
      }
      
      .birds-list {
        max-height: 300px;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <header class="app-header">
      <div class="header-content">
        <h1>–†–µ–¥–∞–∫—Ç–æ—Ä –ø—Ç–∏—Ü</h1>
        <p class="subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –ø—Ç–∏—Ü</p>
      </div>
    </header>

    <main class="admin-container">
      <div class="admin-header">
        <h2 class="admin-title">–í—Å–µ –ø—Ç–∏—Ü—ã</h2>
        <div class="admin-actions">
          <button class="admin-btn primary-btn" id="add-bird-btn">
            + –î–æ–±–∞–≤–∏—Ç—å –ø—Ç–∏—Ü—É
          </button>
          <button class="admin-btn secondary-btn" onclick="window.location.href='index.html'">
            ‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é
          </button>
        </div>
      </div>
      
      <div class="editor-grid">
        <div class="birds-list">
          <div class="search-box">
            <span class="search-icon">üîç</span>
            <input type="text" class="search-input" id="bird-search" placeholder="–ü–æ–∏—Å–∫ –ø—Ç–∏—Ü...">
          </div>
          <div id="birds-list-container">
            <!-- –°–ø–∏—Å–æ–∫ –ø—Ç–∏—Ü –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JS -->
          </div>
        </div>
        
        <div class="editor-form" id="editor-form">
          <div class="empty-state">
            <h3>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ç–∏—Ü—É –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
            <p>–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å</p>
          </div>
        </div>
      </div>
    </main>

    <div class="notification" id="notification"></div>

    <footer class="app-footer">
      <button class="admin-btn secondary-btn" onclick="window.location.href='index.html'">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
    </footer>
  </div>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ -->
  <script src="scripts/birds-data.js"></script>
  
  <script>
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
    if (!window.birdsData || !Array.isArray(window.birdsData)) {
      console.error('–û—à–∏–±–∫–∞: –î–∞–Ω–Ω—ã–µ –æ –ø—Ç–∏—Ü–∞—Ö –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–ª–∏ –∏–º–µ—é—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç');
      document.body.innerHTML = `
        <div class="error-message" style="padding: 2rem; text-align: center;">
          <h2>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</h2>
          <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª birds-data.js —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</p>
          <button onclick="window.location.reload()">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
        </div>
      `;
    } else {
      // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
      const birdsListContainer = document.getElementById('birds-list-container');
      const editorForm = document.getElementById('editor-form');
      const addBirdBtn = document.getElementById('add-bird-btn');
      const birdSearch = document.getElementById('bird-search');
      const notification = document.getElementById('notification');

      // –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
      let currentBirdId = null;
      let isNewBird = false;
      let birdsData = [...window.birdsData]; // –ö–æ–ø–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–±—â–µ–≥–æ —Ñ–∞–π–ª–∞

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
      function init() {
        saveBirdsToLocalStorage(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ localStorage
        renderBirdsList();
        setupEventListeners();
      }

      // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ localStorage
      function saveBirdsToLocalStorage() {
        localStorage.setItem('sparrows-birds', JSON.stringify(birdsData));
      }

      // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
      function showNotification(message, isError = false) {
        notification.textContent = message;
        notification.className = `notification ${isError ? 'error' : ''} show`;
        
        setTimeout(() => {
          notification.classList.remove('show');
        }, 3000);
      }

      // –û—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ç–∏—Ü
      function renderBirdsList(filter = '') {
        birdsListContainer.innerHTML = '';
        
        const filteredBirds = birdsData.filter(bird => 
          bird.name.toLowerCase().includes(filter.toLowerCase()) || 
          bird.scientific.toLowerCase().includes(filter.toLowerCase())
        );
        
        if (filteredBirds.length === 0) {
          birdsListContainer.innerHTML = `
            <div class="empty-state">
              <p>–ü—Ç–∏—Ü—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
            </div>
          `;
          return;
        }
        
        filteredBirds.forEach(bird => {
          const birdItem = document.createElement('div');
          birdItem.className = `bird-item ${currentBirdId === bird.id ? 'active' : ''}`;
          birdItem.innerHTML = `
            <img src="${bird.image}" alt="${bird.name}" class="bird-item-img" onerror="this.src='images/default-bird.jpg'">
            <div>
              <div class="bird-item-name">${bird.name}</div>
              <div class="bird-item-sci">${bird.scientific}</div>
            </div>
          `;
          birdItem.addEventListener('click', () => loadBirdForEditing(bird.id));
          birdsListContainer.appendChild(birdItem);
        });
      }

      // –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ç–∏—Ü—É –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
      function loadBirdForEditing(birdId) {
        currentBirdId = birdId;
        isNewBird = false;
        
        const bird = birdsData.find(b => b.id === birdId);
        if (!bird) return;
        
        editorForm.innerHTML = `
          <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ç–∏—Ü—ã</h3>
          
          <div class="form-group">
            <label for="bird-name" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ç–∏—Ü—ã*</label>
            <input type="text" id="bird-name" class="form-control" value="${bird.name}" required>
          </div>
          
          <div class="form-group">
            <label for="bird-scientific" class="form-label">–ù–∞—É—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ*</label>
            <input type="text" id="bird-scientific" class="form-control" value="${bird.scientific}" required>
          </div>
          
          <div class="form-group">
            <label for="bird-image" class="form-label">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ*</label>
            <div class="image-preview">
              <img src="${bird.image}" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä" onerror="this.parentElement.innerHTML='<span>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>'">
            </div>
            <input type="file" id="bird-image-upload" accept="image/*" style="display: none;">
            <label for="bird-image-upload" class="upload-btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
            <input type="text" id="bird-image" class="form-control" value="${bird.image}" style="margin-top: 0.5rem;" required>
          </div>
          
          <div class="form-group">
            <label for="bird-description" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ*</label>
            <textarea id="bird-description" class="form-control form-textarea" required>${bird.description}</textarea>
          </div>
          
          <div class="form-group">
            <label for="bird-hint" class="form-label">–ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞*</label>
            <textarea id="bird-hint" class="form-control form-textarea" required>${bird.hint}</textarea>
          </div>
          
          <div class="form-actions">
            <button class="admin-btn danger-btn" id="delete-bird-btn">–£–¥–∞–ª–∏—Ç—å</button>
            <button class="admin-btn secondary-btn" id="cancel-edit-btn">–û—Ç–º–µ–Ω–∞</button>
            <button class="admin-btn primary-btn" id="save-bird-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>
          <p class="form-hint">* –ü–æ–ª—è, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</p>
        `;
        
        // –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–π –ø—Ç–∏—Ü—ã
        renderBirdsList(birdSearch.value);
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è —Ñ–æ—Ä–º—ã
        setupFormEventListeners();
      }

      // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–π –ø—Ç–∏—Ü—ã
      function showNewBirdForm() {
        currentBirdId = Date.now(); // –í—Ä–µ–º–µ–Ω–Ω—ã–π ID
        isNewBird = true;
        
        editorForm.innerHTML = `
          <h3>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø—Ç–∏—Ü—ã</h3>
          
          <div class="form-group">
            <label for="bird-name" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ç–∏—Ü—ã*</label>
            <input type="text" id="bird-name" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" required>
          </div>
          
          <div class="form-group">
            <label for="bird-scientific" class="form-label">–ù–∞—É—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ*</label>
            <input type="text" id="bird-scientific" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞—É—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" required>
          </div>
          
          <div class="form-group">
            <label for="bird-image" class="form-label">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ*</label>
            <div class="image-preview">
              <span>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ</span>
            </div>
            <input type="file" id="bird-image-upload" accept="image/*" style="display: none;">
            <label for="bird-image-upload" class="upload-btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
            <input type="text" id="bird-image" class="form-control" placeholder="URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª" style="margin-top: 0.5rem;" required>
          </div>
          
          <div class="form-group">
            <label for="bird-description" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ*</label>
            <textarea id="bird-description" class="form-control form-textarea" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ç–∏—Ü—ã" required></textarea>
          </div>
          
          <div class="form-group">
            <label for="bird-hint" class="form-label">–ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞*</label>
            <textarea id="bird-hint" class="form-control form-textarea" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫—É –¥–ª—è —Ä–µ–∂–∏–º–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏" required></textarea>
          </div>
          
          <div class="form-actions">
            <button class="admin-btn secondary-btn" id="cancel-edit-btn">–û—Ç–º–µ–Ω–∞</button>
            <button class="admin-btn primary-btn" id="save-bird-btn">–î–æ–±–∞–≤–∏—Ç—å –ø—Ç–∏—Ü—É</button>
          </div>
          <p class="form-hint">* –ü–æ–ª—è, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</p>
        `;
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è —Ñ–æ—Ä–º—ã
        setupFormEventListeners();
      }

      // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ñ–æ—Ä–º—ã
      function setupFormEventListeners() {
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        const imageUpload = document.getElementById('bird-image-upload');
        const imagePreview = document.querySelector('.image-preview');
        const imageUrlInput = document.getElementById('bird-image');
        
        if (imageUpload) {
          imageUpload.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
              const reader = new FileReader();
              reader.onload = function(event) {
                imagePreview.innerHTML = `<img src="${event.target.result}" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä">`;
                imageUrlInput.value = event.target.result;
              };
              reader.readAsDataURL(file);
            }
          });
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ç–∏—Ü—ã
        document.getElementById('save-bird-btn').addEventListener('click', saveBird);
        
        // –û—Ç–º–µ–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        document.getElementById('cancel-edit-btn').addEventListener('click', () => {
          editorForm.innerHTML = `
            <div class="empty-state">
              <h3>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ç–∏—Ü—É –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
              <p>–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å</p>
            </div>
          `;
          currentBirdId = null;
          renderBirdsList(birdSearch.value);
        });
        
        // –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ç–∏—Ü—ã (–µ—Å–ª–∏ –Ω–µ –Ω–æ–≤–∞—è)
        if (!isNewBird && document.getElementById('delete-bird-btn')) {
          document.getElementById('delete-bird-btn').addEventListener('click', deleteBird);
        }
      }

      // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ç–∏—Ü—É
      function saveBird() {
        const name = document.getElementById('bird-name').value.trim();
        const scientific = document.getElementById('bird-scientific').value.trim();
        const image = document.getElementById('bird-image').value.trim();
        const description = document.getElementById('bird-description').value.trim();
        const hint = document.getElementById('bird-hint').value.trim();
        
        // –í–∞–ª–∏–¥–∞—Ü–∏—è
        if (!name || !scientific || !image || !description || !hint) {
          showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', true);
          return;
        }
        
        const birdData = {
          id: currentBirdId,
          name,
          scientific,
          image,
          description,
          hint
        };
        
        if (isNewBird) {
          // –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –ø—Ç–∏—Ü—É
          birdsData.push(birdData);
          showNotification('–ü—Ç–∏—Ü–∞ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!');
        } else {
          // –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø—Ç–∏—Ü—É
          const index = birdsData.findIndex(b => b.id === currentBirdId);
          if (index !== -1) {
            birdsData[index] = birdData;
            showNotification('–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!');
          }
        }
        
        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ localStorage
        saveBirdsToLocalStorage();
        
        // –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø—Ç–∏—Ü—É
        renderBirdsList(birdSearch.value);
        if (!isNewBird) {
          loadBirdForEditing(currentBirdId);
        } else {
          // –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –ø—Ç–∏—Ü—ã –æ—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
          editorForm.innerHTML = `
            <div class="empty-state">
              <h3>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ç–∏—Ü—É –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
              <p>–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å</p>
            </div>
          `;
          currentBirdId = null;
        }
      }

      // –£–¥–∞–ª–∏—Ç—å –ø—Ç–∏—Ü—É
      function deleteBird() {
        if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –ø—Ç–∏—Ü—É? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
          birdsData = birdsData.filter(b => b.id !== currentBirdId);
          saveBirdsToLocalStorage();
          showNotification('–ü—Ç–∏—Ü–∞ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!');
          
          editorForm.innerHTML = `
            <div class="empty-state">
              <h3>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ç–∏—Ü—É –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
              <p>–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å</p>
            </div>
          `;
          
          currentBirdId = null;
          renderBirdsList(birdSearch.value);
        }
      }

      // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
      function setupEventListeners() {
        // –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –ø—Ç–∏—Ü—É
        addBirdBtn.addEventListener('click', showNewBirdForm);
        
        // –ü–æ–∏—Å–∫ –ø—Ç–∏—Ü
        birdSearch.addEventListener('input', function() {
          renderBirdsList(this.value);
        });
      }

      // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
      init();
    }
  </script>
</body>
</html>